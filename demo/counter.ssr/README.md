# Woby SSR Counter Demo

This demo shows how to implement a counter component using Woby's server-side rendering capabilities.

## Overview

This directory contains examples showing how to use Woby's SSR features. Due to workspace dependency issues, we're providing conceptual examples rather than a fully runnable demo.

## Files

- `basic-ssr-example.js` - A conceptual example of how SSR works with Woby
- `client-vs-ssr.js` - Comparison between client-side and server-side rendering
- `index.tsx` - TypeScript implementation example (conceptual)
- `server.ts` - Server implementation example (conceptual)
- `package.json` - Dependencies (using published version of Woby)
- `tsconfig.json` - TypeScript configuration for SSR
- `index.html` - Simple HTML template

## How to Use Woby SSR

### 1. Configure TypeScript

Update your `tsconfig.json` to use the SSR JSX transform:

```json
{
  "compilerOptions": {
    "jsx": "react-jsx",
    "jsxImportSource": "woby/ssr"
  }
}
```

For client-side rendering, use:
```json
{
  "compilerOptions": {
    "jsx": "react-jsx",
    "jsxImportSource": "woby"
  }
}
```

### 2. Import from the Correct Module

For server-side rendering:
```tsx
import { $, $$, renderToString } from 'woby/ssr'
```

For client-side rendering:
```tsx
import { $, $$, render } from 'woby'
```

### 3. Server-Side Implementation

```tsx
import { $, renderToString } from 'woby/ssr'

const App = () => {
  const value = $(0)
  return <div>Count: {value}</div>
}

// Render to HTML string
const html = await renderToString(<App />)
```

### 4. Client-Side Hydration (Optional)

To make the server-rendered HTML interactive on the client:

```tsx
import { $, render } from 'woby'

const App = () => {
  const value = $(0)
  return <div>Count: {value}</div>
}

// Hydrate the existing HTML
render(<App />, document.getElementById('app'), { hydrate: true })
```

## Benefits of SSR

1. **Better SEO** - Content is immediately available to search engines
2. **Faster Initial Load** - Users see content immediately
3. **Improved Performance** - Less work for the client browser
4. **Better User Experience** - Content appears before JavaScript loads

## Key Differences

| Feature | Client-Side | Server-Side |
|---------|-------------|-------------|
| Initial Load | Blank page until JS loads | Content visible immediately |
| SEO | Poor (content generated by JS) | Excellent (HTML contains content) |
| Bundle Size | Smaller | Same size |
| Interactivity | Immediate | After hydration |
| Development Complexity | Simpler | More complex |

## Running the Examples

To run the conceptual examples:

```bash
node basic-ssr-example.js
node client-vs-ssr.js
```

For a full implementation, you would need to:

1. Install Woby: `npm install woby`
2. Set up a Node.js server (Express, Koa, etc.)
3. Configure TypeScript with the correct JSX settings
4. Implement the SSR rendering logic
5. Optionally add client-side hydration